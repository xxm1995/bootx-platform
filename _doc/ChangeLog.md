# CHANGELOG
##  [v1.3.3] 一号线-园博园

##  [v1.3.2] 一号线-园博园
- 新增: 查询生成器支持排序
- 优化: 版本依赖升级
- fix: 多数据源加载时机不对, 与flyway冲突
##  [v1.3.1] 一号线-园博园
- 新增: 代码生成器支持多数据源
- 新增: 多数据源增加启动时自动加载配置
- 优化: 可视化大屏同步GoVIew最新版本
- 优化: 数据版本记录插件解析失败SQL时的报错提示
- 优化: 调整减少部分传递依赖
- 优化: 代码生成器模板更新
- fix: 工具类构建树时子孙元素排序未生效
- fix: 超级查询字段获取失败问题
- fix: maven-javadoc-plugin升级到3.5.0版本, 避免macos下出现报错
- fix: mongo相关service条件注入处理，避免在无Mongo依赖的情况下无法启动
- fix: 记录ip对应地址时偶发的空指针处理
- fix: 用户分配数据权限有误
- fix: 系统参数配置值字段缺少
##  [v1.3.0] 一号线-园博园
**项目主要更新**
- 重构: 拆分支付模块为`dax-pay`子项目
- 重构: 拆分工作流模块为`bpmn-plus`子项目
- 重构: 项目包名称统一为cn.bootx.platform
- 重构: 项目改造为支持发布到maven
- 重构: 优化子模块依赖关系，适应子项目引入依赖
- 重构: 数据库SQL文件精简,拆分到子项目中
- 重构: 默认日志手机PlumeLog Lite更改为 Plumelog标准版
- 新增: IP查询地址功能
- fix: 处理MySql8.x关键字问题

**Vue3更新**
- 设为主版本，功能默认使用Vue版进行实现

**Vue2更新**
- 非核心模块的功能，后续可能不再做实现。

##  [v1.2.3] 一号线-创新谷
**项目主要更新**
- 新增: 预定义SQL查询管理
- 新增: 动态数据源管理
- 优化: PlumeLog日志删除定时任务重写
- 优化: sa-token适配1.34.0版本
- 优化: 工作流Flowable更新到6.8.0版本
- 优化: 升级spring boot 2.7.10, 解决漏洞问题
- 优化: 升级spring-javaformat插件版本, 优化链式调用时的格式化
- 优化: 微信公众平台消息处理模块优化
- 优化: 新增函数工具类
- fix: 解决修改密码时传入错误原密码可以修改密码的问题
- fix: 字典编辑问题

**Vue3更新**
- 新增: Vue3版本流程设计器流程图绘制编辑界面移植完成
- 新增: 多数据源管理
- 新增: 微信公众号扫码登录功能
- 优化: 调整各种定时任务的实现为vueuse
- fix: 字典编辑问题

**Vue2更新**
- 新增: 多数据源管理
- 优化: 流程设计区代码结构
- 优化: 工作流页面调整
- fix: 字典编辑问题

## [v1.2.2] 一号线-创新谷
**项目主要更新**
- 增加Minio文件上传方式
- 集成GoVIew可视化大屏功能

**可视化大屏**
- 登录接口对接
- 编辑保存对接
- 列表接口对接
- 复制功能
- 修改基础信息功能

**Vue3更新**
- 新增邮件发送演示
- 新增数据版本信息展示

**Vue2更新**
- 新增数据版本信息展示


## [v1.2.1] 一号线-创新谷
**项目主要更新**
- 数据字段翻译功能支持字典翻译
- 中国行政区划信息扩展至五级，支持村庄社区
- 优化 TreeBuildUtil优化Children的生成
- fix plumelog新版本有问题（实时日志不显示）, 回滚版本
**Vue3更新**
- 中国行政区划演示
- 幂等接口演示
- WebSocket使用演示
- 消息中间件消息发送演示

**Vue2更新**
- 中国行政区划演示

## [v1.2.0] 一号线-创新谷
**项目主要更新**
- 文档: 文档网从语雀迁移到Gitee Pages
- 新增: 中国行政区划信息管理
- 新增: 新增数据版本记录插件
- 新增: 基于AcTable定制，支持自动建表和维护表结构
- 新增: 数据权限插件支持删除、更新操作，同时支持多表联查场景，
- 新增: 请求权限支持权限码方式配置
- 新增: 查询字段数据权限功能，通过权限码注解实现
- 优化: SensitiveType/BusinessType调整为内部类
- 优化: 删除一些未用到的类
- 优化: 缓存管理支持配置是否记录对象数据类型
- 优化: 优化查询生成器逻辑
- 优化: BaseManager同步mp官方新特性，支持逻辑删除记录时间和处理人
- 优化: 数据表无权限字段或未被MybatisPlus管理，自动停用数据权限
- 优化: redisson升级适配
- 优化: Cors跨域处理默认开启
- 优化: 新增lombok.config文件，用于配置一些全局性的Lombok配置
- fix: 登陆后获取菜单权限越界问题

**Vue3进度**
- 新增: 数据相关演示代码，数据权限、数据脱敏、数据加密
- 优化: 删除vben演示代码
- 优化: 菜单管理页关于权限码相关的配置

**Vue2更新**
- 优化: 超级查询器的列表数据配置字段同步为Vue3版本的名称
- 优化: 菜单管理页关于权限码相关的配置

## [v1.1.9] 一号线-工研院
**项目主要更新**
- 新增: 后端字典值翻译工具类
- 新增: 后端返回对象字典值翻译工具功能,支持源对象直接翻译和转换成Map
- 新增: 条件查询生成器, 通过查询对象直接生成QueryWrapper
- 优化: 字典支持配置是否启用
- 优化: 系统参数支持配置是否启用
- 优化: RabbitMQ支持在不配置连接地址的情况下不无限重连
- 优化: 替换lock实现为lock4j
- 优化: AutoConfig使用Spring Boot 2.7.x推荐方式

**Vue3进度**
- 优化: 字典支持配置是否启用
- 优化: 用户和角色选择器新增数据源属性
- 优化: 升级适配vite3.x

**Vue2更新**
- 优化: 字典支持配置是否启用
- 优化: 用户和角色选择器新增数据源属性

## [v1.1.8] 一号线-工研院
**项目主要更新**
- 优化: 升级基础依赖
- 优化: redisson启动机制修改, 不再会导致项目无法启动
- 优化: 钱包报错提示优化
- 优化: vue3模板调整
- fix ts映射字段类型缺失

**Vue3进度**
- 新增: 企业微信机器人和钉钉机器人配置
- 新增: 新增a-link组件，替代`</a>`标签
- 新增: 除流程图设计之外的流程基础配置
- 新增: 消息通知查看和未读列表
- 新增: 添加wangEditor组件
- 新增: 用户全局websocket消息推送
- 新增: 菜单支持配置单独打开内部页面
- 新增: 菜单支持配置在内部打开外部页面
- 新增: 消息模板渲染测试功能
- 新增: 微信支付通道配置
- 新增: 支付宝支付通道配置
- 新增: 超级查询器及演示DEMO
- 新增: 微信支付通道
- 新增: 支付记录/退款记录/回调记录
- 新增: 储值卡管理
- 新增: 钱包管理
- 新增: 简单复杂和简单结算台演示Demo
- 优化: 字典初始化提早到项目加载时
- 优化: 用户和角色选择器新增数据源属性配置项
- 优化: basic-modal 最低高度为无限制
- 优化: 项目路由配置,无用代码删除

**Vue2更新**
- 优化: 用户和角色选择器新增数据源属性配置
- 优化: diffForm逻辑重构
- 优化: 表单提示补全
- 优化: 富文本功能样式优化
- 优化: 部分请求地址变更
- 优化: 错误命名和无用代码修正
- 优化: 超级查询器文本更新, 菜单编辑校验格式优化

## [v1.1.7] 一号线-工研院
**项目主要更新**
- 优化: 用户权限相关配置逻辑修改
- 优化: 账号绑定命名优化
- fix: 找回密码参数错误修改
- fix: 字典查询条件判断错误
- fix: 用户范围权限toMap重复处理
- fix: 数据权限配置部门相关保存报错

**Vue3进度**
- 新增: 用户管理和安全设置
- 新增: 开放平台账号绑定
- 新增: 用户注册
- 新增: 用户密码找回
- 新增: 手机验证码登录
- 新增: 开放平台登录
- 新增: 角色权限分配
- 新增: 部门管理
- 新增: 用户部门分配
- 新增: 用户角色分配
- 新增: 用户数据权限分配

**Vue2更新**
- fix: 部门管理问题修复
- fix: 用户数据权限分配报错处理

## [v1.1.6] 一号线-工研院
**项目主要更新**
- 增加: vue3代码代码生成器
- 增加: 消息模板支持查询
- fix: sa-token超时时间配置错误修正
- fix: 敏感数据脱敏条件判断错误修正
- 其他: 添加easyCorn许可证
- 依赖: Spring Boot更新到2.7.5
- 依赖: IJPay更新到2.9.3

**Vue3进度**
- 移植easyCorn vue3版
- 移植公众号编辑器
- 移植搜索查询组件
- 新增快速校验hooks
- 新增字典hooks
- axios支持下载文件
- 登录功能对接
- 后端路由和菜单功能对接
- 权限码管理对接
- 角色管理对接
- 请求资源管理对接
- 字典管理,系统参数管理对接
- 定时任务对接
- 登录日志对接
- 审计日志对接
- 代码生成功能对接
- 邮件配置功能对接
- 前端脱敏操作对接
- redis和系统监控对接
- echarts配置优化
- 用户基础信息和头像功能对接
- 微信、钉钉、企微配置管理对接

**Vue2更新**
- 新增: 代码生成器支持Vue3版本代码生成
- 优化: 分页列表查询统一替换为查询组件
- 优化: 增加下载文件mixin
- 优化: 查询器支持回车触发
- 优化: 一些工具类调整
- fix: 定时任务执行记录控制台警告消除

## [v1.1.5] 一号线-工研院
**项目主要更新**
- 增加流程回退处理，支持普通任务和多实例的驳回
- 增加Vue3代码生成器模板
- ijpay升级到2.9.2
- 优化项目pom插件依赖管理
- 优化去除mqtt、商品、销售等模块的的Maven依赖，提高启动速度

**Vue2更新**
- 增加流程回退处理
- 优化用户基础信息修改
- 优化消息通知内容显示
- fix 系统内置终端不允许删除
- fix addable/editable/showable, 状态不随动问题

**Vue3进度**
- 移植 终端管理, 增加登录方式 功能
- 移植 查询器组件
- 用户账号密码登录对接
- 增加分页表格和编辑表单hooks组件
- axios参数处理机制调整与Vue2版本类似
- 修复页面路由不生效问题

**SpringCloud进度**
- 代码组织结构调整完成
- 依赖版本号更新为最新版本
- 去除未完成的模块依赖
## [v1.1.4] 一号线-工研院
- 增加工作流任务的关联信息通知
- 增加多数据源管理
- Vue3版本前端项目搭建
- Spring Cloud版本重启
- Spring 版本升级
- 优化代码生成器模板
## [v1.1.3] 一号线-工研院
- 增加流程驳回处理，支持普通任务和多实例的驳回
- 增加流程事件的暴露，方式对接业务和消息通知
- 增加流程实例取消功能
- 支持多分支任务
- 增加一票通过功能
- 增加按比例通过任务处理
- 增加管理员查询列表视图，包括已办任务、待办任务、发起任务
- 优化任务操作页面展示和操作逻辑
- 优化重写多实例任务Behavior结束条件
- 优化拆分ApplyFormShow前端组件
- 优化多实例任务记录多实例关联id
- fix 流程节点人员分类信息丢失
## [v1.1.2] 一号线-工研院
- 增加流程节点人员基础分配类型，新增发起人、指定用户、指定角色、运行时指定等方式
- 增加跳过当前节点配置
- 增加流程串签多任务处理
- 增加流程会签多任务处理
- 增加流程模型模型校验检查功能
- 增加角色选择组件
- 优化流程设计器去除繁杂配置，只保留核心配置
- 优化:同步任务节点信息时，处理多任务状态
- 优化流程执行信息显示优化
- 优化流行模型发布后不允许被删除
- fix: 流程模型复制功能不生效
- fix: plumelog依赖导致的java.lang.NoClassDefFoundError: net/sf/json/JSONException 问题
- fix: ijpay版本升级导致的 WxPayKit.verifyNotify 方法入参问题
## [v1.1.1] 一号线-工研院
- 增加最新版本flowable 6.7.2 工作流集成
- 增加bpmn.js流程设计器集成
- 增加流程模型管理功能
- 增加工作流流程关联动态表单功能
- 增加工作流模型复制功能
- 增加工作流流程节点人员基础分配配置
- 增加工作流任务委派给其他用户进行处理
- 增加工作流初步的驳回处理
- 增加工作流基本的流程进度展示
- 优化工作流ID生成器替换为Snowflake
- 优化工作流部署BPMN文件时不自动生成图片
- 优化: 动态表单显示样式
- fix: 修复未读消息数量显示错误
- fix: 分配菜单权限校验报错
## [v1.1.0] 一号线-工研院.正式版
- 增加站内信发送和接收功能
- 增加微信自定义菜单管理
- 增加微信素材媒体管理功能
- 增加微信消息模板管理
- 增加微信消息发送
- 增加微信公众号绑定和登录, 与微信开放平台登录做区分
- 增加邮件发送演示DEMO
- 增加动态设计表单功能
- 增加多数据源功能
- 优化: 登录认证请求接口和登录器优化
- 优化: 代码生成器升级，增加更多可配置项
- 优化: swagger模块支持一个模块扫描多个包
- 优化: 富文本编辑器输出样式优化
- 优化: 表单项间隔距离
- 优化: 临时文件, 保留名称
- 优化: 例行更新pom依赖到最新版本
- fix: 顶栏多页签栏遮挡菜单问题
## [v1.1.0-bate-6] 一号线-工研院.测试版6
- 新增钉钉工作通知、普通消息通知
- 新增钉钉机器人管理和消息发送
- 新增钉钉文件上传接口
- 新增企业微信消息通知
- 新增企业微信机器人管理
- 新增企业微信机器人上传媒体文件接口
- 将各类第三方平台（钉钉、企微、微信）对接进行结构优化
- 优化mybatis-plus中获取一条的操作方法
- 优化vxe组件的z-index层级
- 优化多页签为固定顶部
## [v1.1.0-bate-5] 一号线-工研院.测试版5
- 微信支付，支持扫码支付、付款码支付、公众号支付、小程序支付、APP支付
- 支付宝支付，支持扫码支付、PC网站支付、H5网站支付、付款码支付
- 钱包支付，支持钱包支付
- 储值卡支付，支持多卡组合支付和单卡多次支付
- 现金支付，支持现金支付
- 聚合支付，支持微信和支付宝二维码扫码或付款码支付
- 组合支付，支持一种异步支付方式和多种同步支付方式进行合并支付
- 增加退款功能，支持多次部分退款和全额退款
- 增加支付信息同步功能，支持手动和自动与支付网关同步支付状态
- 增加支付定时关闭功能，使用定时时间轮+消息通知实现
- 增加结算收银台演示，演示微信和支付各种方式的支付，以及扫码和付款码的聚合支付演示
- 增加简单支付收银台演示，演示单渠道支付
- 增加组合支付演示，演示多种支付方式组合进行支付
- 增加`JacksonListTypeHandler` `MyBatis-Plus`的类型处理器
- 优化系统中注入的`Jackson`的`ObjectMapper`注入，增加携带类型信息`ObjectMapper`注入
- 优化`JacksonUtil`方法设置`ObjectMapper`限制，增加支持序列化带类型信息的Json方法
- fix: 前端业务页面F5刷新后，字典项有几率获取不到

## [v1.1.0-bate-4-fix] 一号线-工研院.测试版4-优化版
- 重构认证应用和认证终端重新设计为认证终端和登录方式
- 增加用户手机号/邮箱绑定功能
- 优化微信、钉钉、企业微信绑定时重复校验
- 优化`@IgnoreAuth`鉴权注解功能
- fix: 开放平台登录报错问题
## [v1.1.0-bate-4] 一号线-工研院.测试版4
- 增加忘记密码功能
- 增加账号注册功能
- 增加微信扫码登录和绑定
- 增加企业扫码微信登录和绑定
- 增加钉钉扫码登录和绑定
- 优化终端拆分为认证应用和认证终端
- 优化登录界面和逻辑
- 优化密码设置时提示安全等级
- 优化文件上传管理功能
- fix: 部分字段在MySQL高版本编程关键字
- fix: 支付宝WAP支付无法发起错误
- fix: 队列生成器跨区间生成检查问题修复
## [v1.1.0-bate-3] 一号线-工研院.测试版3
- 增加系统信息监控
- 增加Redis信息监控
- 增加前端顶栏全屏按钮、菜单搜索、消息通知功能
- 增加修改用户邮箱功能
- 增加修改用户手机号功能
- 增加消息模板渲染测试
- 增加定时任务 EasyCron 组件，便于操作
- 增加富文本编辑
- 优化菜单操作增加复制项
- 优化短信登录登录逻辑
- 优化axios网络连接失败时的提示
- fix: 修改前端校验工具类中的一些校验错误
## [v1.1.0-bate-2] 一号线-工研院.测试版2
- 增加用户全局消息Websocket推送，通过前端消息总线可以方便把消息推送到各个页面
- 增加flyway来对数据库进行管理
- 增加plumelog(lite)方式收集日志，方便对日志进行简单的管理
- 增加ELK相关配置，优化日志输出格式
- 增加不同的终端可以有不同的菜单权限列表
- 增加RabbitMQ消息队列模块
- 增加Redis简单消息队列方式,实现简单消息队列功能
- 增加Redis过期事件封装，实现定时消息通知功能
- 增加Redis简单消息队列和过期事件封装演示
- 增加Websocket模块及演示DEMO
- 增加分布式锁组件
- 增加分布式锁演示模块
- 网上商城配套开发
  - 类目管理及相关规格、品牌、参数管理
- 升级Spring Boot为2.7.x版本
- 优化Redis支持集群配置
- 优化logback相关xml，拆分更细粒度
- 优化定时任务增加状态同步按钮，处理定时任务job运行状态不一致情况
- 优化数据权限异常类型
- 优化一些抛出异常的处理
- 优化项目pom结构
- 优化前端路由跳过登录鉴权配置
- 优化请求权限校验流程
- 优化MQTT .lock文件夹问题
- 优化前端支持内部打开外部页面
- fix: 权限不拦截问题
- fix: 开启验证码后, 在登录页面提示请求报错
- fix: 在MacOS环境下运行日志存储报错问题
- fix: mqtt ClientId配置问题导致启动时连接失败的问题
- fix: RestExceptionHandler处理Throwable异常
## [v1.1.0-bate-1] 一号线-工研院.测试版1
- 增加kay/value存储类
- 增加定时任务执行日志记录
- 增加MQTT模块
- 增加幂等演示demo
- 增加数据加密解密演示demo
- 增加数据脱敏演示demo
- 优化终端管理功能
- 优化内置数据防止误删除
- 优化文件服务地址支持通过系统参数配置
- fix: swagger关闭选项不生效
- fix: mp升级导致返回值错误问题
- fix: mp重复引入版本
## [v1.1.0-alpha-6] 一号线-工研院.预览版6
- 增加退款功能, 支持全部退款和部分退款
- 增加代金券(储值卡)管理和支付
- 增加复杂(组合支付)和简单结算台演示
- 增加支付通知回调信息的处理
- 增加聚合支付，支持扫码支付和付款码支付
- 增加钱包管理功能
- 优化钱包支付流程
- 优化支付宝支付链条和bug
- 优化现金支付流程
- 优化超级查询器功能
- 优化请求权限资源同步逻辑
- 优化操作日志在异步方法情况下空指针的问题
- fix: 系统参数修改不生效
- fix: 请求头获取工具类获取信息错误, 增加一些Servlet的数据

## [v1.1.0-alpha-5] 一号线-工研院.预览版5
- 升级基础依赖
- 增加数据版本日志
- 增加文件上传功能
- 新增序列生成器MongoDB实现，优化配置方式，支持精细化配置
- 增加代码生成器
- 增加数据权限和超级查询器演示Demo
- 优化: 前端过时用法
- 优化: 超级查询器增加新配置项目
- 优化: 支持头像上传功能
- 优化: 前端修改密码时的提示
- 优化: 字典翻译工具类增加异步方法，解决获取不到字典项的问题
- 优化: 日志文件同时输出log格式文件，保留日期更改为30天
- fix 字典项分页查询报错

## [v1.1.0-alpha-4] 一号线-工研院.预览版4
- 升级Spring boot 2.6.2、Mybatis Plus 3.5.0
- 新增序列生成器数据库方式实现
- 新增访问请求资源的权限管理
- 增加数据权限控制，支持多种数据数据范围的配置
- 增加用户个人设置功能
- 增加：mp插件机制进行调整, 支持排序
- 优化: 幂等处理细节实现和配置
- 优化: Spring增强模块Cors功能支持通过yaml配置
- 优化: 执行BaseManager#updateById失败时报错
- 优化: 操作日志注解支持重复标注
- 优化: 脱敏类型新增IP地址和用户ID
- 优化: 菜单管理支持搜索
- 优化: 菜单管理中资源权限操作优化
- 优化: 角色管理给分配菜单权限支持搜索
- 优化: 部门机构支持搜索
- 优化: 部门删除时发送事件，用到部门的地方进行了处理
- fix 路径误拦截问题
- fix 云效构建后登录报序列化错误

## [v1.1.0-alpha-3] 一号线-工研院.预览版3
- 升级Spring boot 2.6.x
- 升级swagger3,使用springdoc实现
- 新增敏感信息脱敏功能
- 新增超级查询器(支持多级嵌套查询)
- 新增数据库字段加密功能
- 新增审计日志MongoDB存储实现
- 新增多标签支持
- 新增quartz方式的定时任务
- 新增系统参数配置功能
- 新增MyBatisPlus 通用 BaseManager 增加 根据指定字段查询是否存在数据(不包含自身)
- 重构: Sa-Token Redis持久化插件进行内联
- 重构: 审计日志拆出
- fix: quartz在Spring boot 2.5.7+ 启动报错问题 
- fix: jackson自定义序列化类调用错误构造方法,导致多个自定义序列化类只生效一个
- fix: 退出后重新登录白屏问题
## [v1.1.0-alpha-2] 一号线-工研院.预览版2
- 增加发号器功能
- 增加消息模板功能
- 增加审计日志功能(登录日志/操作日志)
- 增加在线用户查看功能
- 增加异常时返回链路追踪id功能
- 字典项支持排序
- 支持通过终端管理配置登录
## [v1.1.0-alpha-1] 一号线-工研院.预览版1
- 初始化提交
